!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e="required",r="length",t="type",n="range",o={REQUIRED:"$field$,输入值不可为空",LENGTH:"$field$,输入超长，最大长度为$rule$",TYPE:"$field$,输入的类型不正确，应为$rule$类型",RANGE:"$field$,输入不在范围内，应在$range1$~$range2$之内",LACK:"上送字段缺失，缺少字段$field$"};var i,u,a,c=(i=function(e){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},i(u={exports:{}},u.exports),u.exports);function f(e){return"[object Array]"===Object.prototype.toString.apply(e)}function l(e){return"[object Object]"===Object.prototype.toString.apply(e)}function p(e){return!e||"null"===String(e).toLowerCase()||"undefined"===String(e).toLowerCase()||f(e)&&!e.length||function(e){return l(e)&&"{}"===JSON.stringify(e)}(e)}(a=c)&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")&&a.default;var s={isString:function(e){return"[object String]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.apply(e)},isArray:f,isObject:l,isDate:function(e){return"[object Date]"===Object.prototype.toString.apply(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.apply(e)}};function $(e,r){var t=!1,n=function(e,r){var t={success:!1,field:""};for(var n in r){if(!Object.prototype.hasOwnProperty.call(e,n))return t.success=!1,t.field=n,t;t.success=!0}return t}(e,r),i=n.success,u=n.field;if(!(t=i)){var a=o.LACK.replace(/\$field\$/g,u);return console.error(a),t}for(var c in e){if(!(t=y(e[c],c,r[c])))return t}return t}function y(i,u,a){var c=!1;for(var f in a){var l=a[f];if(f===e&&l){if(!(c=!p(i))){var $=o.REQUIRED.replace(/\$field\$/g,u).replace(/\$rule\$/g,"");return console.error($),c}}else if(f===r&&l){if(!(c=i.length<=l)){var y=o.LENGTH.replace(/\$field\$/g,u).replace(/\$rule\$/g,l);return console.error(y),c}}else if(f===t&&l){if(!(c=(0,s["is"+l])(i))){var d=o.TYPE.replace(/\$field\$/g,u).replace(/\$rule\$/g,l);return console.error(d),c}}else if(f===n&&l){var g=i>=l[0]&&i<l[1];if(!g){var b=o.RANGE.replace(/\$field\$/g,u).replace(/\$range1\$/g,l[0]).replace(/\$range2\$/g,l[1]);return console.error(b),g}}}return c}var d="$$$webfunny-event-domain$$$/tracker/upEvent";function g(e){var r=d;try{var t=new window.XMLHttpRequest;t.open("POST",r,!0),t.setRequestHeader("Content-Type","application/json; charset=UTF-8"),t.setRequestHeader("access-token",localStorage.webfunny_authorization||""),t.send(JSON.stringify(e))}catch(r){!function(e){var r=d+(d.indexOf("?")<0?"?":"&")+e;new Image(1,1).src=r}(e)}}function b(e){e&&g(e)}!function(e){$&&b&&(e.webfunnyEventValidateParams=$,e.webfunnyEventSendRequest=b,e.webfunnyEvent="$$$webfunny-event-code$$$")}(window||global)}));
